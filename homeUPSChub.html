<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Home: UPSC Hub</title>

   <!-- font awesome cdn link  -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">

   <!-- custom css file link  -->
   <link rel="stylesheet" href="css/style.css">

   <style>
      /* Notification CSS */
      .notification {
          position: fixed;
          top: 20px;
          right: 20px;
          background-color: #4CAF50;
          color: white;
          border-radius: 5px;
          padding: 15px;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
          opacity: 0;
          animation: slideIn 1s forwards;
          z-index: 9999;
      }

      @keyframes slideIn {
          from {
              top: -50px;
              opacity: 0;
          }
          to {
              top: 20px;
              opacity: 1;
          }
      }

      .notification .close-btn {
          margin-left: 15px;
          font-size: 18px;
          color: white;
          cursor: pointer;
      }
   </style>

   <script>
      // Request notification permission
      document.addEventListener("DOMContentLoaded", () => {
          console.log("DOMContentLoaded triggered");

          // Check if Notification API is available
          if ("Notification" in window) {
              // Check current permission state
              if (Notification.permission === "default") {
                  console.log("Requesting permission for notifications...");
                  // Request permission if it's in the default state (not yet granted or denied)
                  Notification.requestPermission().then(permission => {
                      console.log("Notification permission response:", permission);
                      if (permission === "granted") {
                          sendNotification();  // Send notification if permission is granted
                      } else {
                          console.log("Notification permission not granted.");
                      }
                  });
              } else if (Notification.permission === "granted") {
                  console.log("Permission already granted.");
                  sendNotification();  // Send notification if already granted
              } else {
                  console.log("Notifications are blocked by the user.");
              }
          } else {
              console.log("Notification API is not supported in this browser.");
          }
      });

      // Function to send the notification
      function sendNotification() {
          console.log("Sending notification...");

          // Create a browser notification
          new Notification("Welcome to UPSC Hub!", {
              body: "Explore the latest courses and updates for UPSC preparation.",
              icon: "images/LOGO.jpg",  // Replace with your desired icon path
          });

          // Display a custom notification on the webpage
          showNotification();
      }

      // Function to show a custom notification on the page
      function showNotification() {
          console.log("Displaying custom notification on the page...");
          const notification = document.createElement("div");
          notification.className = "notification";
          notification.innerHTML = "Welcome to UPSC Hub! Explore the latest courses and updates.";
          const closeButton = document.createElement("span");
          closeButton.className = "close-btn";
          closeButton.innerHTML = "&times;";
          closeButton.onclick = function () {
              notification.style.display = "none";
          };
          notification.appendChild(closeButton);
          document.body.appendChild(notification);

          // Automatically hide notification after 5 seconds
          setTimeout(() => {
              notification.style.display = "none";
          }, 5000);
      }
   </script>
</head>
<body>

<header class="header">
   <section class="flex">
      <a href="index.html" class="logo">UPSC hub</a>

      <form action="search.html" method="post" class="search-form">
         <input type="text" name="search_box" required placeholder="search courses..." maxlength="100">
         <button type="submit" class="fas fa-search"></button>
      </form>

      <div class="icons">
         <div id="menu-btn" class="fas fa-bars"></div>
         <div id="search-btn" class="fas fa-search"></div>
         <div id="user-btn" class="fas fa-user"></div>
         <div id="toggle-btn" class="fas fa-sun"></div>
      </div>

      <div class="profile">
         <img src="images/LOGO.jpg" class="image" alt="">
         <h3 class="name">UPSC hub</h3>
         <p class="role">ADMIN & HOST</p>
      </div>
   </section>
</header>

<!-- Other Content Here -->

<footer class="footer">
   &copy; copyright @ 2024 by <span>Pratyush Swain</span> | all rights reserved! (owner)
</footer>

<!-- custom js file link -->
<script src="js/script.js"></script>

</body>
</html>
