<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Advanced Evaluation Engine - UPSChub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>✨</text></svg>">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .dark body {
            background-color: #020617; /* slate-950 */
        }

        /* Custom styling for the toggle-like radio buttons */
        .radio-group input[type="radio"] { appearance: none; -webkit-appearance: none; position: absolute; opacity: 0; width: 0; height: 0; }
        .radio-group label {
            display: inline-block;
            padding: 0.6rem 1.25rem;
            border: 2px solid #e2e8f0; /* slate-200 */
            border-radius: 9999px; /* pill shape */
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease-in-out;
            text-align: center;
        }
        .light .radio-group label { background-color: #f8fafc; color: #475569; } /* slate-50, slate-600 */
        .light .radio-group label:hover { border-color: #93c5fd; } /* blue-300 */
        .light .radio-group input[type="radio"]:checked + label {
            background-color: #2563eb; /* blue-600 */
            color: #ffffff;
            border-color: #2563eb;
            box-shadow: 0 4px 14px 0 rgba(37, 99, 235, 0.25);
        }

        .dark .radio-group label { background-color: #1e293b; color: #94a3b8; border-color: #334155; } /* slate-800, slate-400, slate-700 */
        .dark .radio-group label:hover { border-color: #3b82f6; } /* blue-500 */
        .dark .radio-group input[type="radio"]:checked + label {
            background-color: #60a5fa; /* blue-400 */
            color: #020617; /* slate-950 */
            border-color: #60a5fa;
            box-shadow: 0 4px 14px 0 rgba(96, 165, 250, 0.2);
        }
        
        /* Frosted Glass Effect for the sticky summary panel */
        .glassmorphism {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .dark .glassmorphism {
            background: rgba(15, 23, 42, 0.6); /* slate-900 */
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Animation for file previews */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .file-preview-item { animation: fadeIn 0.3s ease-out; }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto p-4 sm:p-8 max-w-7xl">
        <header class="mb-8 text-center">
            <h1 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold text-slate-900 dark:text-gray-100">Advanced Evaluation Engine</h1>
            <p class="mt-3 text-base sm:text-lg text-slate-600 dark:text-slate-400">A uniquely tailored experience for UPSChub aspirants.</p>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-2 space-y-8">
                
                <section class="bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-800">
                    <div class="flex items-center gap-4 mb-5">
                        <span class="flex items-center justify-center w-10 h-10 rounded-full bg-blue-600 text-white font-bold text-lg">1</span>
                        <h2 class="text-2xl font-bold">Paper Details</h2>
                    </div>
                    <div class="space-y-6 pl-2">
                        <fieldset class="radio-group">
                            <legend class="font-semibold text-slate-700 dark:text-slate-300 mb-2">Language:</legend>
                            <div class="flex flex-wrap gap-3">
                                <input type="radio" id="lang-en" name="language" value="English" checked>
                                <label for="lang-en">English</label>
                                <input type="radio" id="lang-hi" name="language" value="Hindi">
                                <label for="lang-hi">हिंदी</label>
                            </div>
                        </fieldset>
                        <div>
                            <label for="paper-select" class="font-semibold text-slate-700 dark:text-slate-300 mb-2 block">Paper:</label>
                            <select id="paper-select" class="w-full p-3 rounded-lg border-2 border-slate-200 dark:border-gray-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
                                <option disabled selected value="">Select a paper...</option>
                                <option value="General Studies Paper I">General Studies Paper I</option>
                                <option value="General Studies Paper II">General Studies Paper II</option>
                                <option value="General Studies Paper III">General Studies Paper III</option>
                                <option value="GS Paper IV - Theory">General Studies Paper IV - Theory</option>
                                <option value="GS Paper IV - Case Study">General Studies Paper IV - Case Study</option>
                                <option value="Essay Paper">Essay Paper</option>
                                <option value="Optional Paper - Humanities">Optional Paper - Humanities</option>
                                <option value="Optional Paper - Technical">Optional Paper - Technical</option>
                            </select>
                        </div>
                    </div>
                </section>

                <section class="bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-800">
                     <div class="flex items-center gap-4 mb-5">
                        <span class="flex items-center justify-center w-10 h-10 rounded-full bg-blue-600 text-white font-bold text-lg">2</span>
                        <h2 class="text-2xl font-bold">Evaluation Style</h2>
                    </div>
                    <div class="space-y-6 pl-2">
                        <fieldset class="radio-group">
                            <legend class="font-semibold text-slate-700 dark:text-slate-300 mb-2">Marks:</legend>
                             <div class="flex flex-wrap gap-3">
                                <input type="radio" id="marks-10" name="marks" value="10" checked>
                                <label for="marks-10">10 Marks</label>
                                <input type="radio" id="marks-15" name="marks" value="15">
                                <label for="marks-15">15 Marks</label>
                                <input type="radio" id="marks-20" name="marks" value="20">
                                <label for="marks-20">20 Marks</label>
                            </div>
                        </fieldset>
                        <fieldset class="radio-group">
                            <legend class="font-semibold text-slate-700 dark:text-slate-300 mb-2">Evaluator Criticality:</legend>
                             <div class="flex flex-wrap gap-3">
                                <input type="radio" id="eval-balanced" name="evaluator" value="Balanced" checked>
                                <label for="eval-balanced">Balanced</label>
                                <input type="radio" id="eval-strict" name="evaluator" value="Strict">
                                <label for="eval-strict">Strict</label>
                                <input type="radio" id="eval-critical" name="evaluator" value="Critical">
                                <label for="eval-critical">Critical</label>
                            </div>
                        </fieldset>
                    </div>
                </section>
                
                 <section class="bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-800">
                     <div class="flex items-center gap-4 mb-5">
                        <span class="flex items-center justify-center w-10 h-10 rounded-full bg-blue-600 text-white font-bold text-lg">3</span>
                        <h2 class="text-2xl font-bold">Question & Answer Sheets</h2>
                    </div>
                    <div class="space-y-6 pl-2">
                        <div>
                            <div class="flex justify-between items-center mb-2">
                                <label for="question-text" class="font-semibold text-slate-700 dark:text-slate-300">Question (Optional):</label>
                                <button id="paste-btn" class="text-sm font-semibold text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1">
                                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" /></svg>
                                    Smart Paste
                                </button>
                            </div>
                            <textarea id="question-text" rows="3" class="w-full p-3 rounded-lg border-2 border-slate-200 dark:border-gray-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Paste question here, or we'll read it from the image."></textarea>
                        </div>
                        <div>
                            <p class="font-semibold text-slate-700 dark:text-slate-300 mb-2">Upload:</p>
                            <div id="drop-zone" class="p-8 text-center border-2 border-dashed border-slate-300 dark:border-gray-700 rounded-xl cursor-pointer transition">
                                <div class="flex flex-col items-center">
                                    <svg class="w-12 h-12 text-blue-500 dark:text-blue-400 mb-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M7 16V4m0 12L3 8m4 8l4-8m4 8V4m0 12l4-8m-4 8l-4-8m-4-4h18" /></svg>
                                    <p class="font-semibold text-slate-700 dark:text-slate-300">Click to upload or drag & drop</p>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Supports JPG, PNG, PDF (Max 25 files, 20MB each)</p>
                                    <input type="file" id="file-input" class="hidden" multiple accept="image/png, image/jpeg, application/pdf">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <div class="lg:col-span-1">
                <div class="lg:sticky lg:top-8 glassmorphism p-6 rounded-2xl shadow-lg">
                    <h3 class="text-2xl font-bold mb-4 text-center">Live Summary</h3>
                    
                    <div class="space-y-4 text-sm mb-6 border-b border-slate-300 dark:border-slate-700 pb-4">
                        <div class="flex justify-between items-center"><span class="font-semibold text-slate-600 dark:text-slate-400">Language:</span><span id="summary-lang" class="font-bold text-right">English</span></div>
                        <div class="flex justify-between items-start gap-4"><span class="font-semibold text-slate-600 dark:text-slate-400">Paper:</span><span id="summary-paper" class="font-bold text-right text-slate-500 dark:text-slate-500">Not Selected</span></div>
                        <div class="flex justify-between items-center"><span class="font-semibold text-slate-600 dark:text-slate-400">Marks:</span><span id="summary-marks" class="font-bold text-right">10 Marks</span></div>
                        <div class="flex justify-between items-center"><span class="font-semibold text-slate-600 dark:text-slate-400">Criticality:</span><span id="summary-eval" class="font-bold text-right">Balanced</span></div>
                    </div>

                    <h4 class="font-bold mb-3 text-center">Uploaded Sheets (<span id="file-count">0</span>/25)</h4>
                    <div id="preview-panel" class="max-h-64 overflow-y-auto bg-slate-100 dark:bg-slate-800 rounded-lg p-3 space-y-2">
                        <div id="empty-preview" class="text-center text-slate-500 dark:text-slate-400 py-10">
                            <p>Upload files to see previews.</p>
                        </div>
                    </div>

                    <div class="mt-6 space-y-3">
                        <button id="evaluate-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-4 rounded-lg flex items-center justify-center space-x-2 transition shadow-lg hover:shadow-xl disabled:bg-slate-400 disabled:cursor-not-allowed disabled:shadow-none">
                            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            <span>Evaluate Answer</span>
                        </button>
                        <button id="reset-btn" class="w-full bg-slate-200 hover:bg-slate-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-slate-800 dark:text-gray-200 font-bold py-3 px-4 rounded-lg flex items-center justify-center space-x-2 transition">
                            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h5M20 20v-5h-5" /><path d="M4 9a9 9 0 0114.1-4.9l-2.6 2.6" /><path d="M20 15a9 9 0 01-14.1 4.9l2.6-2.6" /></svg>
                            <span>Reset All</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>
        
        <div class="mt-12 space-y-8">
            <details class="bg-white dark:bg-gray-900 p-4 rounded-lg shadow-md border border-slate-200 dark:border-gray-800 text-sm text-slate-600 dark:text-slate-400">
                <summary class="font-semibold text-base cursor-pointer">
                    Important Disclaimer & Fair Use Policy
                </summary>
                <div class="mt-3 pt-3 border-t border-slate-200 dark:border-gray-700 space-y-3">
                    <p>Welcome to the UPSChub AI Answer Checker! This tool is designed to provide you with instant, constructive feedback to accelerate your preparation. To ensure you get the most out of it, please keep the following in mind:</p>
                    <ul class="list-disc list-inside space-y-2">
                        <li>
                            <strong>Purpose of the Tool:</strong> This feature is built for practice and self-assessment. Its primary goal is to help you identify structural flaws, improve content relevance, and practice writing answers consistently.
                        </li>
                        <li>
                            <strong>Score is an Estimate:</strong> The score provided is a calculated estimate based on various parameters like keyword usage, structure, and relevance. It is a directional guide to gauge your performance and should not be considered an official or exact prediction of your score in the actual UPSC examination.
                        </li>
                        <li>
                            <strong>Input Quality Matters:</strong> The accuracy of the analysis is highly dependent on the quality of your uploaded image and the clarity of your handwriting. Blurred images or illegible writing may lead to errors in text recognition (OCR) and affect the evaluation.
                        </li>
                        <li>
                            <strong>AI Limitations:</strong> While powerful, the AI model may not capture every subtle nuance or the specific context that a seasoned human examiner might. It is a tool for learning, not a definitive judge.
                        </li>
                        <li>
                            <strong>Not a Substitute:</strong> This tool is a supplement, not a substitute, for your core study materials, mentorship, peer reviews, and official test series conducted by experienced educators.
                        </li>
                    </ul>
                    <p class="font-semibold pt-2">Use this tool to write more, analyze more, and improve consistently. Happy writing!</p>
                </div>
            </details>

            <footer class="bg-white dark:bg-gray-900 shadow-inner py-8 rounded-lg border border-slate-200 dark:border-gray-800">
                <div class="container mx-auto px-4 sm:px-6 text-center text-slate-600 dark:text-slate-400 text-sm">
                    <p class="font-semibold mb-2">© 2025 UPSChub. All Rights Reserved.</p>
                    <p> Unauthorized reproduction or distribution of this material is prohibited. <span class="font-semibold text-blue-600 dark:text-blue-400">#MissionUPSC</span></p>
                </div>
            </footer>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Element Selectors ---
        const formElements = {
            language: document.querySelectorAll('input[name="language"]'),
            paper: document.getElementById('paper-select'),
            marks: document.querySelectorAll('input[name="marks"]'),
            evaluator: document.querySelectorAll('input[name="evaluator"]'),
            question: document.getElementById('question-text'),
        };
        const summaryElements = {
            lang: document.getElementById('summary-lang'),
            paper: document.getElementById('summary-paper'),
            marks: document.getElementById('summary-marks'),
            eval: document.getElementById('summary-eval'),
            fileCount: document.getElementById('file-count'),
        };
        const dropZone = document.getElementById('drop-zone');
        const fileInput = document.getElementById('file-input');
        const previewPanel = document.getElementById('preview-panel');
        const emptyPreview = document.getElementById('empty-preview');
        const evaluateBtn = document.getElementById('evaluate-btn');
        const resetBtn = document.getElementById('reset-btn');
        const pasteBtn = document.getElementById('paste-btn');
        
        let uploadedFiles = [];
        const MAX_FILES = 25;

        // --- Main Functions ---
        function updateSummary() {
            summaryElements.lang.textContent = document.querySelector('input[name="language"]:checked')?.value || 'N/A';
            summaryElements.marks.textContent = document.querySelector('input[name="marks"]:checked')?.value + ' Marks' || 'N/A';
            summaryElements.eval.textContent = document.querySelector('input[name="evaluator"]:checked')?.value || 'N/A';
            const selectedPaper = formElements.paper.options[formElements.paper.selectedIndex];
            if (selectedPaper && selectedPaper.value) {
                summaryElements.paper.textContent = selectedPaper.text;
                summaryElements.paper.classList.remove('text-slate-500', 'dark:text-slate-500');
            } else {
                summaryElements.paper.textContent = 'Not Selected';
                summaryElements.paper.classList.add('text-slate-500', 'dark:text-slate-500');
            }
            summaryElements.fileCount.textContent = uploadedFiles.length;
        }

        function handleFiles(files) {
            if (emptyPreview) emptyPreview.style.display = 'none';
            for (const file of files) {
                if (uploadedFiles.length >= MAX_FILES) { alert(`You can upload a maximum of ${MAX_FILES} files.`); break; }
                if (file.size > 20 * 1024 * 1024) { alert(`File "${file.name}" is too large (max 20MB).`); continue; }
                uploadedFiles.push(file);
                createPreviewElement(file);
            }
            updateSummary();
        }

        function createPreviewElement(file) {
            const fileId = `file-${Date.now()}-${Math.random()}`;
            const filePreview = document.createElement('div');
            filePreview.className = 'file-preview-item flex items-center justify-between bg-white dark:bg-slate-700 p-2 rounded-md shadow-sm';
            filePreview.id = fileId;
            
            const thumbnail = document.createElement('div');
            thumbnail.className = 'flex items-center space-x-2 overflow-hidden';

            if (file.type.startsWith('image/')) {
                const img = document.createElement('img');
                img.className = 'w-8 h-8 rounded object-cover';
                const reader = new FileReader();
                reader.onload = (e) => { img.src = e.target.result; };
                reader.readAsDataURL(file);
                thumbnail.appendChild(img);
            } else {
                const iconContainer = document.createElement('div');
                iconContainer.innerHTML = `<svg class="w-8 h-8 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0011.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" /></svg>`;
                thumbnail.appendChild(iconContainer);
            }
            
            const fileNameSpan = document.createElement('span');
            fileNameSpan.className = 'text-sm truncate dark:text-gray-300';
            fileNameSpan.textContent = file.name;
            thumbnail.appendChild(fileNameSpan);

            const removeBtn = document.createElement('button');
            removeBtn.dataset.fileId = fileId;
            removeBtn.dataset.fileName = file.name;
            removeBtn.className = 'remove-file-btn p-1 rounded-full hover:bg-slate-200 dark:hover:bg-gray-600 flex-shrink-0';
            removeBtn.innerHTML = `<svg class="w-4 h-4 text-slate-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>`;
            removeBtn.addEventListener('click', removeFile);
            
            filePreview.appendChild(thumbnail);
            filePreview.appendChild(removeBtn);
            if (previewPanel) previewPanel.appendChild(filePreview);
        }
        
        function removeFile(e) {
            const button = e.currentTarget;
            const fileId = button.dataset.fileId;
            const fileName = button.dataset.fileName;
            document.getElementById(fileId)?.remove();
            uploadedFiles = uploadedFiles.filter(f => f.name !== fileName);
            if (uploadedFiles.length === 0 && emptyPreview) {
                emptyPreview.style.display = 'block';
            }
            updateSummary();
        }

        function resetForm() {
            document.getElementById('lang-en').checked = true;
            if(formElements.paper) formElements.paper.selectedIndex = 0;
            document.getElementById('marks-10').checked = true;
            document.getElementById('eval-balanced').checked = true;
            if(formElements.question) formElements.question.value = '';
            
            if(previewPanel) previewPanel.innerHTML = '';
            if(previewPanel && emptyPreview) {
                previewPanel.appendChild(emptyPreview);
                emptyPreview.style.display = 'block';
            }

            uploadedFiles = [];
            if(fileInput) fileInput.value = '';
            updateSummary();
            console.log('Form has been reset.');
        }
        
        // --- Event Listeners ---
        // This checks if the elements exist before adding listeners, preventing errors.
        if (dropZone) dropZone.addEventListener('click', () => fileInput.click());
        if (dropZone) dropZone.addEventListener('dragover', e => { e.preventDefault(); dropZone.classList.add('drop-zone-over'); });
        if (dropZone) dropZone.addEventListener('dragleave', () => dropZone.classList.remove('drop-zone-over'));
        if (dropZone) dropZone.addEventListener('drop', e => { e.preventDefault(); dropZone.classList.remove('drop-zone-over'); handleFiles(e.dataTransfer.files); });
        
        if (fileInput) fileInput.addEventListener('change', () => handleFiles(fileInput.files));
        if (resetBtn) resetBtn.addEventListener('click', resetForm);
        
        if (pasteBtn) {
            pasteBtn.addEventListener('click', async () => {
                try {
                    const text = await navigator.clipboard.readText();
                    formElements.question.value = text;
                    alert('Question pasted from clipboard!');
                } catch (err) {
                    alert('Failed to read clipboard. Please check browser permissions.');
                }
            });
        }
        
        Object.values(formElements).forEach(elOrNodeList => {
            const elements = elOrNodeList.length ? Array.from(elOrNodeList) : [elOrNodeList];
            elements.forEach(el => {
                if (el) el.addEventListener('change', updateSummary);
            });
        });

        if (evaluateBtn) {
            evaluateBtn.addEventListener('click', async () => {
                const paper = formElements.paper.value;
                if (!paper) { alert('Please select a paper type.'); return; }
                if (uploadedFiles.length === 0) { alert('Please upload at least one answer sheet.'); return; }

                evaluateBtn.disabled = true;
                evaluateBtn.innerHTML = `<svg class="animate-spin h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span>Evaluating...</span>`;

                const evaluationFormData = new FormData();
                evaluationFormData.append('language', document.querySelector('input[name="language"]:checked').value);
                evaluationFormData.append('paper', paper);
                evaluationFormData.append('marks', document.querySelector('input[name="marks"]:checked').value);
                evaluationFormData.append('evaluator', document.querySelector('input[name="evaluator"]:checked').value);
                evaluationFormData.append('question', formElements.question.value);
                uploadedFiles.forEach(file => evaluationFormData.append('answerSheets', file));

                try {
                    const response = await fetch('https://upschub-ai-api.onrender.com/api/evaluate', {
                        method: 'POST',
                        body: evaluationFormData,
                    });
                    if (!response.ok) {
                        const errorResult = await response.json();
                        throw new Error(errorResult.error || 'The server returned an error.');
                    }
                    const result = await response.json();
                    console.log('--- AI Feedback Received ---', result);
                    alert('Evaluation successful! Check console (F12) for results.');
                } catch (error) {
                    console.error('Error sending data to backend:', error);
                    alert(`An error occurred: ${error.message}`);
                } finally {
                    evaluateBtn.disabled = false;
                    evaluateBtn.innerHTML = `<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg><span>Evaluate Answer</span>`;
                }
            });
        }
        
        // Initial UI setup
        updateSummary();
    });
</script>
</body>
</html>
