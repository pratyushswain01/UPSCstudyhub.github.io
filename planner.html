<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UPSC Ascent Planner | Interactive Study Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Lora:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-light: #F4F7FC;
            --card-light: #FFFFFF;
            --text-light: #4A5568;
            --heading-light: #1A202C;
            --border-light: #E2E8F0;
            --primary-light: #4299E1;
            --primary-dark-light: #2B6CB0;
            --accent-light: #38B2AC;

            --bg-dark: #1A202C;
            --card-dark: #2D3748;
            --text-dark: #A0AEC0;
            --heading-dark: #E2E8F0;
            --border-dark: #4A5568;
            --primary-dark: #63B3ED;
            --primary-dark-dark: #4299E1;
            --accent-dark: #4FD1C5;

            --bg-color: var(--bg-light);
            --card-color: var(--card-light);
            --text-color: var(--text-light);
            --heading-color: var(--heading-light);
            --border-color: var(--border-light);
            --primary-color: var(--primary-light);
            --primary-dark-color: var(--primary-dark-light);
            --accent-color: var(--accent-light);

            --polity-color: #3182CE;
            --geography-color: #38A169;
            --history-color: #DD6B20;
            --current-affairs-color: #E53E3E;
            --mcq-practice-color: #805AD5;
            --revision-color: #D69E2E;
            --answer-writing-color: #319795;
            --test-color: #C53030;
        }

        body.dark-mode {
            --bg-color: var(--bg-dark);
            --card-color: var(--card-dark);
            --text-color: var(--text-dark);
            --heading-color: var(--heading-dark);
            --border-color: var(--border-dark);
            --primary-color: var(--primary-dark);
            --primary-dark-color: var(--primary-dark-dark);
            --accent-color: var(--accent-dark);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .planner-container { max-width: 1200px; margin: 0 auto; padding: 2rem 1rem; }

        /* --- Header --- */
        .planner-header {
            text-align: center;
            margin-bottom: 2rem;
            padding: 2rem;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            border-radius: 12px;
            color: white;
        }
        .planner-header h1 { font-family: 'Lora', serif; font-size: 2.8rem; margin-bottom: 0.5rem; }
        .planner-header p { font-size: 1.1rem; opacity: 0.9; }

        /* --- Dashboard & Navigation --- */
        .sticky-nav-wrapper { position: sticky; top: 1rem; z-index: 1000; }
        .dashboard-nav {
            background-color: var(--card-color);
            border-radius: 12px;
            padding: 1rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid var(--border-color);
            margin-bottom: 2rem;
        }
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; align-items: center; }
        .stat-card { text-align: center; }
        .stat-card h4 { font-size: 0.9rem; font-weight: 500; color: var(--text-color); }
        .stat-card .stat-value { font-size: 1.5rem; font-weight: 700; color: var(--heading-color); }
        .progress-bar-container { width: 100%; background-color: var(--border-color); border-radius: 20px; overflow: hidden; height: 12px; }
        .progress-bar { height: 100%; width: 0%; background: linear-gradient(90deg, var(--accent-color), var(--primary-color)); border-radius: 20px; transition: width 0.5s ease-in-out; }
        .navigation { display: flex; flex-wrap: wrap; gap: 1rem; margin-top: 1rem; border-top: 1px solid var(--border-color); padding-top: 1rem; }
        .navigation > * { flex: 1; }
        .nav-button, #month-select {
            width: 100%;
            padding: 0.75rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background-color: var(--bg-color);
            color: var(--heading-color);
            font-size: 0.95rem; font-weight: 500; cursor: pointer; text-align: center;
        }
        .nav-button { background-color: var(--primary-color); color: white; border-color: var(--primary-color); }
        .nav-button:hover { background-color: var(--primary-dark-color); }
        
        /* --- Theme Toggle --- */
        .theme-switch-wrapper { display: flex; align-items: center; justify-content: center; margin-top: 1rem; gap: 0.5rem; }
        .theme-switch { display: inline-block; height: 24px; position: relative; width: 48px; }
        .theme-switch input { display: none; }
        .slider { background-color: #ccc; bottom: 0; cursor: pointer; left: 0; position: absolute; right: 0; top: 0; transition: .4s; border-radius: 34px; }
        .slider:before { content: ""; height: 16px; width: 16px; left: 4px; bottom: 4px; position: absolute; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--primary-color); }
        input:checked + .slider:before { transform: translateX(24px); }
        .theme-switch-wrapper i { font-size: 1.1rem; }

        /* --- Month Section --- */
        .month-section { margin-bottom: 2.5rem; padding-top: 5rem; margin-top: -5rem; }
        .month-header {
            display: flex; justify-content: space-between; align-items: center;
            background-color: var(--heading-color); color: var(--bg-color);
            padding: 1rem 1.5rem; border-radius: 12px; margin-bottom: 1.5rem;
        }
        .month-header h2 { font-family: 'Lora', serif; font-size: 1.8rem; }
        .month-progress { width: 150px; text-align: right; }
        .month-progress p { font-size: 0.9rem; margin-bottom: 4px; }

        /* --- Week Section (Accordion) --- */
        .week-section { margin-bottom: 1.5rem; border: 1px solid var(--border-color); border-radius: 10px; overflow: hidden; }
        .week-header {
            display: grid; grid-template-columns: 1fr auto; gap: 1rem; align-items: center;
            padding: 1rem 1.5rem; background-color: var(--card-color); cursor: pointer; transition: background-color 0.2s;
        }
        .week-header:hover { background-color: var(--bg-color); }
        .week-title h3 { font-size: 1.2rem; color: var(--heading-color); margin-bottom: 4px; }
        .week-title .book-ref { font-size: 0.85rem; color: var(--text-color); font-weight: 500; }
        .week-header .fa-chevron-down { transition: transform 0.3s; }
        .week-section.expanded .week-header .fa-chevron-down { transform: rotate(180deg); }
        .week-content { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-out; background-color: var(--bg-color); }
        .week-section.expanded .week-content { max-height: 5000px; /* Large enough for content */ }
        .daily-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; padding: 1.5rem; }

        /* --- Day Card --- */
        .day-card {
            background-color: var(--card-color); border-radius: 8px;
            border-top: 4px solid var(--primary-color);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05); padding: 1rem;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .day-card.current-day {
            border-color: var(--accent-color);
            box-shadow: 0 8px 30px -5px var(--accent-light);
            transform: translateY(-5px);
        }
        .day-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; padding-bottom: 0.75rem; border-bottom: 1px dashed var(--border-color); }
        .day-header h4 { font-size: 1rem; font-weight: 600; color: var(--heading-color); }
        .day-header .date-span { font-size: 0.85rem; color: var(--text-color); font-weight: 500; }
        
        /* --- Task Item --- */
        .task-list { list-style: none; }
        .task-item { margin-bottom: 0.75rem; padding: 0.5rem; border-left: 4px solid var(--text-color); background-color: var(--bg-color); border-radius: 4px; }
        .task-item.polity { border-left-color: var(--polity-color); }
        .task-item.geography { border-left-color: var(--geography-color); }
        .task-item.history { border-left-color: var(--history-color); }
        .task-item.current-affairs { border-left-color: var(--current-affairs-color); }
        .task-item.mcq-practice { border-left-color: var(--mcq-practice-color); }
        .task-item.revision { border-left-color: var(--revision-color); }
        .task-item.answer-writing { border-left-color: var(--answer-writing-color); }
        .task-item.test { border-left-color: var(--test-color); }
        .task-item.map-work { border-left-color: var(--geography-color); opacity: 0.9; }

        .task-item-content { display: flex; align-items: flex-start; }
        .task-item input[type="checkbox"] { margin-top: 4px; margin-right: 12px; accent-color: var(--primary-color); flex-shrink: 0; width: 16px; height: 16px; cursor: pointer; }
        .task-item label { cursor: pointer; font-weight: 500; font-size: 0.9rem; color: var(--heading-color); }
        .task-item input:checked + label { text-decoration: line-through; color: var(--text-color); opacity: 0.7; }
        .task-details { display: block; font-size: 0.8rem; color: var(--text-color); margin-left: 28px; margin-top: 2px; }
        
        /* --- Notes Section --- */
        .week-notes { padding: 0 1.5rem 1.5rem; }
        .week-notes textarea {
            width: 100%; height: 80px; padding: 0.75rem; border-radius: 8px;
            border: 1px solid var(--border-color); background-color: var(--card-color);
            color: var(--text-color); font-family: 'Poppins', sans-serif; resize: vertical;
        }

        /* --- Footer --- */
        .planner-footer { text-align: center; padding: 2rem 1rem; margin-top: 2rem; border-top: 1px solid var(--border-color); font-size: 0.9rem; }

        @media (max-width: 768px) {
            .planner-header h1 { font-size: 2.2rem; }
            .dashboard-grid, .navigation { grid-template-columns: 1fr 1fr; }
            .month-header { flex-direction: column; align-items: flex-start; gap: 0.5rem; }
            .month-header h2 { font-size: 1.5rem; }
            .month-progress { width: 100%; text-align: left; }
        }
    </style>
</head>
<body>
    <div class="planner-container">

        <header class="planner-header">
            <h1>UPSC Ascent Planner</h1>
            <p>Your Interactive Dashboard for CSE 2027 Success</p>
        </header>

        <div class="sticky-nav-wrapper">
            <div class="dashboard-nav">
                <div class="dashboard-grid">
                    <div class="stat-card">
                        <h4>Overall Progress</h4>
                        <div class="progress-bar-container">
                            <div id="overall-progress-bar" class="progress-bar"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <h4>Tasks Completed</h4>
                        <p class="stat-value"><span id="tasks-completed-count">0</span> / <span id="total-tasks-count">0</span></p>
                    </div>
                     <div class="stat-card">
                        <h4>Today is</h4>
                        <p class="stat-value" id="current-date-header">Loading...</p>
                    </div>
                    <div class="theme-switch-wrapper">
                        <i class="fas fa-sun"></i>
                        <label class="theme-switch">
                            <input type="checkbox" id="theme-toggle">
                            <span class="slider"></span>
                        </label>
                         <i class="fas fa-moon"></i>
                    </div>
                </div>
                <div class="navigation">
                    <button id="jump-to-today-btn" class="nav-button"><i class="fas fa-calendar-day"></i> Jump to Today</button>
                    <select id="month-select">
                        <option value="">-- Jump to Month --</option>
                        <option value="june-2025">June 2025</option>
                        <option value="july-2025">July 2025</option>
                        <option value="august-2025">August 2025</option>
                        <option value="september-2025">September 2025</option>
                        <option value="october-2025">October 2025</option>
                        <option value="november-2025">November 2025</option>
                        <option value="december-2025">December 2025</option>
                    </select>
                </div>
            </div>
        </div>

        <main>
            <!-- ==================== JUNE 2025 ==================== -->
            <section id="june-2025" class="month-section">
                <div class="month-header">
                    <h2><i class="fas fa-landmark"></i> June 2025: Constitutional Foundations</h2>
                    <div class="month-progress">
                        <p>Month Progress</p>
                        <div class="progress-bar-container"><div class="progress-bar" id="june-2025-progress"></div></div>
                    </div>
                </div>
                
                <div class="week-section">
                    <div class="week-header">
                        <div class="week-title">
                            <h3>Week 1: Historical Background & Making of the Constitution</h3>
                            <span class="book-ref">Laxmikant (Ch. 1-4)</span>
                        </div>
                        <div class="week-progress-indicator"><i class="fas fa-chevron-down"></i></div>
                    </div>
                    <div class="week-content">
                        <div class="daily-grid">
                            <div class="day-card" data-date="2025-06-02">
                                <div class="day-header"><h4><i class="fas fa-scroll"></i> Day 1</h4><span class="date-span">Mon, Jun 2</span></div>
                                <ul class="task-list">
                                    <li class="task-item polity"><div class="task-item-content"><input type="checkbox" id="jun-w1-d1-t1"><label for="jun-w1-d1-t1">Historical Background (1773-1858)</label></div><span class="task-details">Regulating Act, Pitt’s India Act, Charter Acts.</span></li>
                                    <li class="task-item current-affairs"><div class="task-item-content"><input type="checkbox" id="jun-w1-d1-t2"><label for="jun-w1-d1-t2">Newspaper Reading & Notes</label></div></li>
                                </ul>
                            </div>
                            <div class="day-card" data-date="2025-06-03">
                                <div class="day-header"><h4><i class="fas fa-crown"></i> Day 2</h4><span class="date-span">Tue, Jun 3</span></div>
                                <ul class="task-list"><li class="task-item polity"><div class="task-item-content"><input type="checkbox" id="jun-w1-d2-t1"><label for="jun-w1-d2-t1">British Reforms (1858-1947)</label></div><span class="task-details">GOI Acts 1858, 1909, 1919, 1935.</span></li></ul>
                            </div>
                            <div class="day-card" data-date="2025-06-04">
                                <div class="day-header"><h4><i class="fas fa-users"></i> Day 3</h4><span class="date-span">Wed, Jun 4</span></div>
                                <ul class="task-list"><li class="task-item polity"><div class="task-item-content"><input type="checkbox" id="jun-w1-d3-t1"><label for="jun-w1-d3-t1">Constituent Assembly</label></div><span class="task-details">Composition, Sessions, Key Committees.</span></li></ul>
                            </div>
                            <div class="day-card" data-date="2025-06-05">
                                <div class="day-header"><h4><i class="fas fa-pencil-ruler"></i> Day 4</h4><span class="date-span">Thu, Jun 5</span></div>
                                <ul class="task-list"><li class="task-item polity"><div class="task-item-content"><input type="checkbox" id="jun-w1-d4-t1"><label for="jun-w1-d4-t1">Drafting & Influences</label></div><span class="task-details">GOI Act 1935, U.S. Bill of Rights.</span></li></ul>
                            </div>
                            <div class="day-card" data-date="2025-06-06">
                                <div class="day-header"><h4><i class="fas fa-star"></i> Day 5</h4><span class="date-span">Fri, Jun 6</span></div>
                                <ul class="task-list"><li class="task-item polity"><div class="task-item-content"><input type="checkbox" id="jun-w1-d5-t1"><label for="jun-w1-d5-t1">Salient Features of Constitution</label></div><span class="task-details">Federalism, Parliamentary System.</span></li></ul>
                            </div>
                            <div class="day-card" data-date="2025-06-07">
                                <div class="day-header"><h4><i class="fas fa-file-alt"></i> Day 6</h4><span class="date-span">Sat, Jun 7</span></div>
                                <ul class="task-list"><li class="task-item polity"><div class="task-item-content"><input type="checkbox" id="jun-w1-d6-t1"><label for="jun-w1-d6-t1">Preamble</label></div><span class="task-details">Keywords, Amendability (Berubari).</span></li></ul>
                            </div>
                            <div class="day-card" data-date="2025-06-08">
                                <div class="day-header"><h4><i class="fas-solid fa-bullseye"></i> Day 7</h4><span class="date-span">Sun, Jun 8</span></div>
                                <ul class="task-list">
                                    <li class="task-item mcq-practice"><div class="task-item-content"><input type="checkbox" id="jun-w1-d7-t1"><label for="jun-w1-d7-t1">MCQs on Ch. 1-4</label></div></li>
                                    <li class="task-item answer-writing"><div class="task-item-content"><input type="checkbox" id="jun-w1-d7-t2"><label for="jun-w1-d7-t2">Answer: "Significance of GOI Act 1935..."</label></div></li>
                                    <li class="task-item revision"><div class="task-item-content"><input type="checkbox" id="jun-w1-d7-t3"><label for="jun-w1-d7-t3">Weekly Revision</label></div></li>
                                </ul>
                            </div>
                        </div>
                        <div class="week-notes"><textarea placeholder="Add your weekly notes, doubts, or key takeaways here..."></textarea></div>
                    </div>
                </div>

                <!-- (Other weeks for June would go here, following the same structure) -->
            </section>

            <!-- ==================== JULY 2025 ==================== -->
            <section id="july-2025" class="month-section">
                <div class="month-header">
                    <h2><i class="fas fa-university"></i> July 2025: Governance & Central Government</h2>
                    <div class="month-progress">
                        <p>Month Progress</p>
                        <div class="progress-bar-container"><div class="progress-bar" id="july-2025-progress"></div></div>
                    </div>
                </div>
                
                <div class="week-section">
                    <div class="week-header">
                        <div class="week-title">
                            <h3>Week 5: Parliamentary System & President</h3>
                            <span class="book-ref">Laxmikant (Ch. 12-14)</span>
                        </div>
                        <div class="week-progress-indicator"><i class="fas fa-chevron-down"></i></div>
                    </div>
                    <div class="week-content">
                         <div class="daily-grid">
                            <div class="day-card" data-date="2025-06-30">
                                <div class="day-header"><h4><i class="fas fa-user-tie"></i> Day 1</h4><span class="date-span">Mon, Jun 30</span></div>
                                <ul class="task-list"><li class="task-item polity"><div class="task-item-content"><input type="checkbox" id="jul-w5-d1-t1"><label for="jul-w5-d1-t1">President (Art 52-62)</label></div><span class="task-details">Election, Impeachment, Powers.</span></li></ul>
                            </div>
                            <div class="day-card" data-date="2025-07-01">
                                <div class="day-header"><h4><i class="fas fa-users-cog"></i> Day 2</h4><span class="date-span">Tue, Jul 1</span></div>
                                <ul class="task-list"><li class="task-item polity"><div class="task-item-content"><input type="checkbox" id="jul-w5-d2-t1"><label for="jul-w5-d2-t1">Vice President & PM (Art 63-78)</label></div><span class="task-details">Role, Collective Responsibility.</span></li></ul>
                            </div>
                            <div class="day-card" data-date="2025-07-02">
                                <div class="day-header"><h4><i class="fas fa-gavel"></i> Day 3</h4><span class="date-span">Wed, Jul 2</span></div>
                                <ul class="task-list"><li class="task-item polity"><div class="task-item-content"><input type="checkbox" id="jul-w5-d3-t1"><label for="jul-w5-d3-t1">Parliament (Art 79-122)</label></div><span class="task-details">Sessions, Motions.</span></li></ul>
                            </div>
                            <div class="day-card" data-date="2025-07-03">
                                <div class="day-header"><h4><i class="fas fa-file-invoice-dollar"></i> Day 4</h4><span class="date-span">Thu, Jul 3</span></div>
                                <ul class="task-list"><li class="task-item polity"><div class="task-item-content"><input type="checkbox" id="jul-w5-d4-t1"><label for="jul-w5-d4-t1">Legislative Process</label></div><span class="task-details">Money Bill vs Ordinary Bill.</span></li></ul>
                            </div>
                             <div class="day-card" data-date="2025-07-04">
                                <div class="day-header"><h4><i class="far fa-folder-open"></i> Day 5</h4><span class="date-span">Fri, Jul 4</span></div>
                                <ul class="task-list"><li class="task-item polity"><div class="task-item-content"><input type="checkbox" id="jul-w5-d5-t1"><label for="jul-w5-d5-t1">Committees - PAC, Estimates</label></div></li></ul>
                            </div>
                            <div class="day-card" data-date="2025-07-05">
                                <div class="day-header"><h4><i class="far fa-newspaper"></i> Day 6</h4><span class="date-span">Sat, Jul 5</span></div>
                                <ul class="task-list"><li class="task-item current-affairs"><div class="task-item-content"><input type="checkbox" id="jul-w5-d6-t1"><label for="jul-w5-d6-t1">Current Affairs: Recent Ordinances</label></div></li></ul>
                            </div>
                            <div class="day-card" data-date="2025-07-06">
                                <div class="day-header"><h4><i class="fas-solid fa-bullseye"></i> Day 7</h4><span class="date-span">Sun, Jul 6</span></div>
                                <ul class="task-list">
                                    <li class="task-item mcq-practice"><div class="task-item-content"><input type="checkbox" id="jul-w5-d7-t1"><label for="jul-w5-d7-t1">MCQs: PYQs on Presidential Powers</label></div></li>
                                    <li class="task-item revision"><div class="task-item-content"><input type="checkbox" id="jul-w5-d7-t2"><label for="jul-w5-d7-t2">Weekly Revision</label></div></li>
                                </ul>
                            </div>
                        </div>
                        <div class="week-notes"><textarea placeholder="Add your weekly notes, doubts, or key takeaways here..."></textarea></div>
                    </div>
                </div>
                
                 <!-- (Other weeks for July would go here) -->
            </section>

            <!-- (Sections for August, September, etc. would continue in the same format) -->
             <!-- ==================== SEPTEMBER 2025 ==================== -->
            <section id="september-2025" class="month-section">
                 <div class="month-header">
                    <h2><i class="fas fa-mountain"></i> September 2025: Geography - Physical Framework</h2>
                    <div class="month-progress">
                        <p>Month Progress</p>
                        <div class="progress-bar-container"><div class="progress-bar" id="september-2025-progress"></div></div>
                    </div>
                </div>
                 <div class="week-section">
                    <div class="week-header">
                        <div class="week-title">
                           <h3>Week 1: India's Location & The Himalayas</h3>
                           <span class="book-ref">Geography Respective Chapters</span>
                        </div>
                        <div class="week-progress-indicator"><i class="fas fa-chevron-down"></i></div>
                    </div>
                    <div class="week-content">
                         <div class="daily-grid">
                            <div class="day-card" data-date="2025-09-01"><div class="day-header"><h4><i class="fas fa-map-marker-alt"></i> Day 1</h4><span class="date-span">Mon, Sep 1</span></div><ul class="task-list"><li class="task-item geography"><div class="task-item-content"><input type="checkbox" id="sep-w1-d1-t1"><label for="sep-w1-d1-t1">India's Location & Neighbors</label></div><span class="task-details">Lat/Long, Borders, Map Work.</span></li></ul></div>
                            <div class="day-card" data-date="2025-09-02"><div class="day-header"><h4><i class="fas fa-history"></i> Day 2</h4><span class="date-span">Tue, Sep 2</span></div><ul class="task-list"><li class="task-item geography"><div class="task-item-content"><input type="checkbox" id="sep-w1-d2-t1"><label for="sep-w1-d2-t1">Geological History</label></div><span class="task-details">Peninsular Block, Himalayan Formation.</span></li></ul></div>
                            <div class="day-card" data-date="2025-09-03"><div class="day-header"><h4><i class="fas fa-mountain"></i> Day 3</h4><span class="date-span">Wed, Sep 3</span></div><ul class="task-list"><li class="task-item geography"><div class="task-item-content"><input type="checkbox" id="sep-w1-d3-t1"><label for="sep-w1-d3-t1">Himalayan Divisions (Part 1)</label></div><span class="task-details">Trans & Greater Himalayas.</span></li></ul></div>
                            <div class="day-card" data-date="2025-09-04"><div class="day-header"><h4><i class="fas fa-mountain"></i> Day 4</h4><span class="date-span">Thu, Sep 4</span></div><ul class="task-list"><li class="task-item geography"><div class="task-item-content"><input type="checkbox" id="sep-w1-d4-t1"><label for="sep-w1-d4-t1">Himalayan Divisions (Part 2)</label></div><span class="task-details">Lesser Himalayas, Shiwaliks, Passes.</span></li></ul></div>
                            <div class="day-card" data-date="2025-09-05"><div class="day-header"><h4><i class="fas fa-seedling"></i> Day 5</h4><span class="date-span">Fri, Sep 5</span></div><ul class="task-list"><li class="task-item geography"><div class="task-item-content"><input type="checkbox" id="sep-w1-d5-t1"><label for="sep-w1-d5-t1">Himalayan Climate & Biodiversity</label></div><span class="task-details">Vegetation Zones, Protected Areas.</span></li></ul></div>
                            <div class="day-card" data-date="2025-09-06"><div class="day-header"><h4><i class="fas fa-map"></i> Day 6</h4><span class="date-span">Sat, Sep 6</span></div><ul class="task-list"><li class="task-item map-work"><div class="task-item-content"><input type="checkbox" id="sep-w1-d6-t1"><label for="sep-w1-d6-t1">Map Work: Himalayan Peaks, Rivers, Passes</label></div></li></ul></div>
                            <div class="day-card" data-date="2025-09-07"><div class="day-header"><h4><i class="fas-solid fa-bullseye"></i> Day 7</h4><span class="date-span">Sun, Sep 7</span></div><ul class="task-list"><li class="task-item mcq-practice"><div class="task-item-content"><input type="checkbox" id="sep-w1-d7-t1"><label for="sep-w1-d7-t1">MCQs on Himalayas</label></div></li><li class="task-item answer-writing"><div class="task-item-content"><input type="checkbox" id="sep-w1-d7-t2"><label for="sep-w1-d7-t2">Answer: "Himalayas as climatic divide..."</label></div></li><li class="task-item revision"><div class="task-item-content"><input type="checkbox" id="sep-w1-d7-t3"><label for="sep-w1-d7-t3">Weekly Revision</label></div></li></ul></div>
                        </div>
                        <div class="week-notes"><textarea placeholder="Add your weekly notes, doubts, or key takeaways here..."></textarea></div>
                    </div>
                </div>
            </section>

        </main>
        
        <footer class="planner-footer">
            <p>© <span id="currentYear"></span> UPSC Ascent Planner - Conquer your Goals.</p>
        </footer>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const checkboxes = document.querySelectorAll('.task-item input[type="checkbox"]');
        const totalTasksCountEl = document.getElementById('total-tasks-count');
        const tasksCompletedCountEl = document.getElementById('tasks-completed-count');
        const overallProgressBar = document.getElementById('overall-progress-bar');
        const monthSelect = document.getElementById('month-select');
        const jumpToTodayBtn = document.getElementById('jump-to-today-btn');
        const themeToggle = document.getElementById('theme-toggle');

        // --- THEME ---
        const applyTheme = (theme) => {
            if (theme === 'dark') {
                document.body.classList.add('dark-mode');
                themeToggle.checked = true;
            } else {
                document.body.classList.remove('dark-mode');
                themeToggle.checked = false;
            }
        };

        const currentTheme = localStorage.getItem('theme') || 'light';
        applyTheme(currentTheme);

        themeToggle.addEventListener('change', () => {
            const newTheme = themeToggle.checked ? 'dark' : 'light';
            localStorage.setItem('theme', newTheme);
            applyTheme(newTheme);
        });

        // --- TASK PERSISTENCE ---
        checkboxes.forEach(checkbox => {
            if (localStorage.getItem(checkbox.id) === 'true') {
                checkbox.checked = true;
            }
            checkbox.addEventListener('change', () => {
                localStorage.setItem(checkbox.id, checkbox.checked);
                updateAllProgress();
            });
        });

        // --- PROGRESS CALCULATION ---
        function updateAllProgress() {
            let totalChecked = 0;
            totalTasksCountEl.textContent = checkboxes.length;

            // Calculate progress for each month
            document.querySelectorAll('.month-section').forEach(month => {
                const monthCheckboxes = month.querySelectorAll('input[type="checkbox"]');
                const monthChecked = month.querySelectorAll('input[type="checkbox"]:checked');
                const monthProgress = monthCheckboxes.length > 0 ? (monthChecked.length / monthCheckboxes.length) * 100 : 0;
                const monthProgressBar = document.getElementById(`${month.id}-progress`);
                if(monthProgressBar) monthProgressBar.style.width = `${monthProgress}%`;
            });

            // Calculate overall progress
            checkboxes.forEach(cb => {
                if (cb.checked) totalChecked++;
            });

            tasksCompletedCountEl.textContent = totalChecked;
            const overallProgress = checkboxes.length > 0 ? (totalChecked / checkboxes.length) * 100 : 0;
            overallProgressBar.style.width = `${overallProgress}%`;
        }

        // --- ACCORDION FOR WEEKS ---
        document.querySelectorAll('.week-header').forEach(header => {
            header.addEventListener('click', () => {
                const weekSection = header.closest('.week-section');
                weekSection.classList.toggle('expanded');
            });
        });

        // --- DATE & NAVIGATION ---
        function initializeDateAndNav() {
            const today = new Date();
            const year = today.getFullYear();
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const day = String(today.getDate()).padStart(2, '0');
            const todayString = `${year}-${month}-${day}`;
            
            // Set header date
            document.getElementById('current-date-header').textContent = today.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
            document.getElementById('currentYear').textContent = year;
            
            const todayCard = document.querySelector(`.day-card[data-date="${todayString}"]`);
            
            if (todayCard) {
                // Highlight today's card
                todayCard.classList.add('current-day');
                
                // Expand today's week
                const currentWeek = todayCard.closest('.week-section');
                if (currentWeek) {
                    currentWeek.classList.add('expanded');
                }
                
                // Set Jump to Today functionality
                jumpToTodayBtn.addEventListener('click', () => {
                    todayCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
                });
            } else {
                 jumpToTodayBtn.textContent = "No Tasks Today";
                 jumpToTodayBtn.disabled = true;
            }
        }
        
        monthSelect.addEventListener('change', function() {
            if (this.value) {
                const targetSection = document.getElementById(this.value);
                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }
        });

        // --- INITIALIZATION ---
        updateAllProgress();
        initializeDateAndNav();
    });
    </script>
</body>
</html>
